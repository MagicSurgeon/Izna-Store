<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rich Text Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f7f7f7;
            margin: 0;
        }
        .editor-container {
            width: 80%;
            max-width: 900px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 20px;
            box-sizing: border-box;
        }
        .toolbar {
            border-bottom: 1px solid #ddd;
            margin-bottom: 10px;
            padding-bottom: 10px;
            display: flex;
            flex-wrap: wrap;
        }
        .toolbar button, .toolbar select {
            background: #e0e0e0;
            border: none;
            border-radius: 4px;
            padding: 8px 12px;
            margin: 0 5px 5px 0;
            cursor: pointer;
            font-size: 14px;
            color: #333;
            transition: background 0.3s;
        }
        .toolbar button:hover, .toolbar select:hover {
            background: #ccc;
        }
        .toolbar button.active {
            background: #007bff;
            color: #fff;
        }
        .rich-text-box {
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            min-height: 200px;
            background-color: #fff;
            font-size: 16px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <div class="editor-container">
        <div class="toolbar">
            <button onclick="execCmd('bold')"><i class="fas fa-bold"></i></button>
            <button onclick="execCmd('italic')"><i class="fas fa-italic"></i></button>
            <button onclick="execCmd('underline')"><i class="fas fa-underline"></i></button>
            <button onclick="execCmd('strikeThrough')"><i class="fas fa-strikethrough"></i></button>
            <button onclick="execCmd('insertUnorderedList')"><i class="fas fa-list-ul"></i></button>
            <button onclick="execCmd('insertOrderedList')"><i class="fas fa-list-ol"></i></button>
            <button onclick="execCmd('justifyLeft')"><i class="fas fa-align-left"></i></button>
            <button onclick="execCmd('justifyCenter')"><i class="fas fa-align-center"></i></button>
            <button onclick="execCmd('justifyRight')"><i class="fas fa-align-right"></i></button>
            <button onclick="execCmd('createLink')"><i class="fas fa-link"></i></button>
            <button onclick="insertImage()"><i class="fas fa-image" style="width: 50px;"></i></button>
            <button onclick="insertYouTube()"><i class="fab fa-youtube" style="width: 50px;"></i></button>
            <select onchange="execCmd('formatBlock', this.value)">
                <option value="">Format</option>
                <option value="h1">Heading 1</option>
                <option value="h2">Heading 2</option>
                <option value="h3">Heading 3</option>
                <option value="p">Paragraph</option>
            </select>
            <select onchange="execCmd('fontName', this.value)">
                <option value="">Font</option>
                <option value="Arial">Arial</option>
                <option value="Courier New">Courier New</option>
                <option value="Georgia">Georgia</option>
                <option value="Times New Roman">Times New Roman</option>
                <option value="Verdana">Verdana</option>
            </select>
            <select onchange="execCmd('fontSize', this.value)">
                <option value="">Size</option>
                <option value="1">Small</option>
                <option value="3">Medium</option>
                <option value="5">Large</option>
                <option value="7">Extra Large</option>
            </select>
            <select onchange="execCmd('foreColor', this.value)">
                <option value="">Color</option>
                <option value="#000000">Black</option>
                <option value="#FF0000">Red</option>
                <option value="#00FF00">Green</option>
                <option value="#0000FF">Blue</option>
                <option value="#FFFF00">Yellow</option>
            </select>
        </div>
        <div class="rich-text-box" contenteditable="true">
            Start typing here...
        </div>
    </div>

    <script>
        function execCmd(command, value = null) {
            document.execCommand(command, false, value);
        }

        function insertImage() {
            let url = prompt('Enter the image URL:', 'http://');
            if (url) {
                let img = new Image();
                img.onload = function() {
                    document.execCommand('insertImage', false, url);
                };
                img.onerror = function() {
                    alert('The URL is not a valid image.');
                };
                img.src = url;
            }
        }

        function insertYouTube() {
    let url = prompt('Enter YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID):', 'https://');
    if (url) {
        let videoId = getYouTubeVideoId(url);
        if (videoId) {
            let embedUrl = `https://www.youtube.com/embed/${videoId}`;
            let iframe = `<iframe width="560" height="315" src="${embedUrl}" frameborder="0" allowfullscreen></iframe>`;
            document.execCommand('insertHTML', false, iframe);
        } else {
            alert('Invalid YouTube URL. Please ensure the URL contains "v=" and a valid video ID.');
        }
    }
}

function getYouTubeVideoId(url) {
    try {
        let videoId = null;
        let urlObj = new URL(url);
        let params = new URLSearchParams(urlObj.search);
        if (params.has('v')) {
            videoId = params.get('v');
        } else {
            // Handle other URL formats
            let match = url.match(/youtube\.com\/(?:watch\?v=|embed\/|v\/)([a-zA-Z0-9_-]{11})/) ||
                        url.match(/youtu\.be\/([a-zA-Z0-9_-]{11})/);
            if (match) {
                videoId = match[1];
            }
        }
        return videoId;
    } catch (error) {
        console.error('Error extracting YouTube video ID:', error);
        return null;
    }
}

    </script>
</body>
</html>
